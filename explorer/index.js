/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/app.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/app.ts":
/*!********************!*\
  !*** ./src/app.ts ***!
  \********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _map__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./map */ \"./src/map.ts\");\n\r\nvar api_base_url_dom_id = \"api_url\";\r\n/**\r\n * Orchestrate it all\r\n */\r\n(function run() {\r\n    // the leaflet layer on which the circles generated circles will be drawn\r\n    var circlesLayer = new L.FeatureGroup().addTo(_map__WEBPACK_IMPORTED_MODULE_0__[\"map\"]);\r\n    // set default api url\r\n    $(\"#api_url\").attr(\"value\", 'http://127.0.0.1:8080/api/query');\r\n    // attach a callback to the event when a user has drawn a rectangle on the map.\r\n    // the defining coords of the rectangle are then passed to a callback that we set here\r\n    Object(_map__WEBPACK_IMPORTED_MODULE_0__[\"enableDrawing\"])(onDrawn);\r\n})();\r\nfunction onDrawn(rect) {\r\n    var types = [];\r\n    var price = [];\r\n    $(\".venue-type:checked\").each(function (i, el) {\r\n        types.push($(el).attr('venue_type'));\r\n    });\r\n    $(\".venue-price:checked\").each(function (i, el) {\r\n        price.push($(el).attr('value'));\r\n    });\r\n    var query_strings = {\r\n        lat: rect.getLatLng().lat,\r\n        lng: rect.getLatLng().lng,\r\n        radius: rect.getRadius(),\r\n        venue_types: types.join(\",\"),\r\n        price: price.join(\",\")\r\n    };\r\n    console.log(query_strings);\r\n    makeApiRequest(query_strings).then(function (response) {\r\n        console.log(\"response from server \" + response);\r\n        console.log(new Date());\r\n        var places = response.map(function (place) {\r\n            place.coordinates = new L.LatLng(place.geometry.location.lat, place.geometry.location.lng);\r\n            return place;\r\n        });\r\n        Object(_map__WEBPACK_IMPORTED_MODULE_0__[\"drawMarkers\"])(places);\r\n    }, function (reason) {\r\n        var err = reason.err;\r\n        var obj = reason.obj;\r\n        console.error(err);\r\n        console.error(obj);\r\n        console.log(new Date());\r\n    });\r\n}\r\nfunction makeApiRequest(payload) {\r\n    var api_base_url = document.getElementById(api_base_url_dom_id).value;\r\n    console.log(new Date());\r\n    console.log(\"querying to \" + api_base_url);\r\n    var query_url = \"\" + api_base_url;\r\n    return new Promise(function (resolve, reject) {\r\n        $.ajax(query_url, {\r\n            method: \"GET\",\r\n            async: true,\r\n            contentType: 'application/json',\r\n            data: payload,\r\n            dataType: 'json',\r\n            error: function (err, st, reason) { return reject({ err: err, obj: reason }); },\r\n            success: resolve,\r\n            timeout: 10000 //milliseconds\r\n        });\r\n    });\r\n}\r\nfunction onDelete() {\r\n    console.log('deleting..');\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYXBwLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC50cz8wNjZlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7bWFwLCBkcmF3TWFya2VycywgZW5hYmxlRHJhd2luZ30gZnJvbSBcIi4vbWFwXCJcclxuaW1wb3J0IHtDaXJjbGUsIFJlY3RhbmdsZX0gZnJvbSBcImxlYWZsZXRcIjtcclxuaW1wb3J0IHtBcGlSZXF1ZXN0LCBBcGlSZXNwb25zZSwgUGxhY2UsIFBsYWNlc30gZnJvbSBcIi4vY3VzdG9tX3R5cGVzXCI7XHJcbi8vIGpxdWVyeSBhbmQgbGVhZmxldCBhcmUgXCJpbXBvcnRlZFwiIGluIHRoZSBodG1sIHZpYSA8c2NyaXB0PlxyXG5kZWNsYXJlIGxldCAkO1xyXG5kZWNsYXJlIGxldCBMO1xyXG5jb25zdCBhcGlfYmFzZV91cmxfZG9tX2lkID0gXCJhcGlfdXJsXCI7XHJcblxyXG4vKipcclxuICogT3JjaGVzdHJhdGUgaXQgYWxsXHJcbiAqL1xyXG4oZnVuY3Rpb24gcnVuKCkge1xyXG4gICAgLy8gdGhlIGxlYWZsZXQgbGF5ZXIgb24gd2hpY2ggdGhlIGNpcmNsZXMgZ2VuZXJhdGVkIGNpcmNsZXMgd2lsbCBiZSBkcmF3blxyXG4gICAgY29uc3QgY2lyY2xlc0xheWVyID0gbmV3IEwuRmVhdHVyZUdyb3VwKCkuYWRkVG8obWFwKTtcclxuXHJcbiAgICAvLyBzZXQgZGVmYXVsdCBhcGkgdXJsXHJcbiAgICAkKFwiI2FwaV91cmxcIikuYXR0cihcInZhbHVlXCIsICdodHRwOi8vMTI3LjAuMC4xOjgwODAvYXBpL3F1ZXJ5Jyk7XHJcblxyXG4gICAgLy8gYXR0YWNoIGEgY2FsbGJhY2sgdG8gdGhlIGV2ZW50IHdoZW4gYSB1c2VyIGhhcyBkcmF3biBhIHJlY3RhbmdsZSBvbiB0aGUgbWFwLlxyXG4gICAgLy8gdGhlIGRlZmluaW5nIGNvb3JkcyBvZiB0aGUgcmVjdGFuZ2xlIGFyZSB0aGVuIHBhc3NlZCB0byBhIGNhbGxiYWNrIHRoYXQgd2Ugc2V0IGhlcmVcclxuICAgIGVuYWJsZURyYXdpbmcob25EcmF3bik7XHJcbn0pKCk7XHJcblxyXG5cclxuZnVuY3Rpb24gb25EcmF3bihyZWN0OiBDaXJjbGUpIHtcclxuICAgIGNvbnN0IHR5cGVzID0gW107XHJcbiAgICBjb25zdCBwcmljZSA9IFtdO1xyXG5cclxuICAgICQoXCIudmVudWUtdHlwZTpjaGVja2VkXCIpLmVhY2goKGksIGVsKSA9PiB7XHJcbiAgICAgICAgdHlwZXMucHVzaCgkKGVsKS5hdHRyKCd2ZW51ZV90eXBlJykpXHJcbiAgICB9KTtcclxuICAgICQoXCIudmVudWUtcHJpY2U6Y2hlY2tlZFwiKS5lYWNoKChpLCBlbCkgPT4ge1xyXG4gICAgICAgIHByaWNlLnB1c2goJChlbCkuYXR0cigndmFsdWUnKSlcclxuICAgIH0pO1xyXG4gICAgY29uc3QgcXVlcnlfc3RyaW5ncyA9IHtcclxuICAgICAgICBsYXQ6IHJlY3QuZ2V0TGF0TG5nKCkubGF0LFxyXG4gICAgICAgIGxuZzogcmVjdC5nZXRMYXRMbmcoKS5sbmcsXHJcbiAgICAgICAgcmFkaXVzOiByZWN0LmdldFJhZGl1cygpLFxyXG4gICAgICAgIHZlbnVlX3R5cGVzOiB0eXBlcy5qb2luKFwiLFwiKSxcclxuICAgICAgICBwcmljZTogcHJpY2Uuam9pbihcIixcIilcclxuICAgIH07XHJcbiAgICBjb25zb2xlLmxvZyhxdWVyeV9zdHJpbmdzKTtcclxuICAgIG1ha2VBcGlSZXF1ZXN0KHF1ZXJ5X3N0cmluZ3MpLnRoZW4oKHJlc3BvbnNlOiBBcGlSZXNwb25zZVtdKSA9PiB7XHJcblxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgcmVzcG9uc2UgZnJvbSBzZXJ2ZXIgJHtyZXNwb25zZX1gKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cobmV3IERhdGUoKSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHBsYWNlczogUGxhY2VzID0gcmVzcG9uc2UubWFwKChwbGFjZTogUGxhY2UpID0+IHtcclxuICAgICAgICAgICAgICAgIHBsYWNlLmNvb3JkaW5hdGVzID0gbmV3IEwuTGF0TG5nKHBsYWNlLmdlb21ldHJ5LmxvY2F0aW9uLmxhdCwgcGxhY2UuZ2VvbWV0cnkubG9jYXRpb24ubG5nKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwbGFjZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGRyYXdNYXJrZXJzKHBsYWNlcylcclxuXHJcbiAgICAgICAgfSwgKHJlYXNvbikgPT4ge1xyXG4gICAgICAgICAgICBsZXQgZXJyID0gcmVhc29uLmVycjtcclxuICAgICAgICAgICAgbGV0IG9iaiA9IHJlYXNvbi5vYmo7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihvYmopO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhuZXcgRGF0ZSgpKVxyXG4gICAgICAgIH1cclxuICAgICk7XHJcblxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gbWFrZUFwaVJlcXVlc3QocGF5bG9hZDogQXBpUmVxdWVzdCk6IFByb21pc2U8UGxhY2VzPiB7XHJcbiAgICBjb25zdCBhcGlfYmFzZV91cmwgPSAoPEhUTUxJbnB1dEVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYXBpX2Jhc2VfdXJsX2RvbV9pZCkpLnZhbHVlO1xyXG4gICAgY29uc29sZS5sb2cobmV3IERhdGUoKSk7XHJcbiAgICBjb25zb2xlLmxvZyhgcXVlcnlpbmcgdG8gJHthcGlfYmFzZV91cmx9YCk7XHJcblxyXG4gICAgY29uc3QgcXVlcnlfdXJsID0gYCR7YXBpX2Jhc2VfdXJsfWA7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAkLmFqYXgocXVlcnlfdXJsLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgYXN5bmM6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgIGRhdGE6IHBheWxvYWQsIC8vIGFsc28gZmluZSBmb3IgR0VUIC0gY29udmVydHMgdG8gcXVlcnkgc3RyaW5nXHJcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgIGVycm9yOiAoZXJyLCBzdCwgcmVhc29uKSA9PiByZWplY3Qoe2VycjogZXJyLCBvYmo6IHJlYXNvbn0pLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiByZXNvbHZlLFxyXG4gICAgICAgICAgICB0aW1lb3V0OiAxMDAwMC8vbWlsbGlzZWNvbmRzXHJcbiAgICAgICAgfSk7XHJcbiAgICB9KVxyXG59XHJcblxyXG5mdW5jdGlvbiBvbkRlbGV0ZSgpIHtcclxuICAgIGNvbnNvbGUubG9nKCdkZWxldGluZy4uJylcclxufVxyXG5cclxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFNQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/app.ts\n");

/***/ }),

/***/ "./src/map.ts":
/*!********************!*\
  !*** ./src/map.ts ***!
  \********************/
/*! exports provided: map, layerForUserCircles, enableDrawing, drawMarkers */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"map\", function() { return map; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"layerForUserCircles\", function() { return layerForUserCircles; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"enableDrawing\", function() { return enableDrawing; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"drawMarkers\", function() { return drawMarkers; });\nvar map;\r\nvar layerForUserCircles;\r\n// add the map to the page\r\nmap = L.map('map').setView([42.697930, 23.321628], 13);\r\nL.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {\r\n    attribution: 'Map data &copy; <createCoordinatesReturn href=\"http://openstreetmap.org\">OpenStreetMap</createCoordinatesReturn> contributors, <createCoordinatesReturn href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</createCoordinatesReturn>, Imagery Â© <createCoordinatesReturn href=\"http://mapbox.com\">Mapbox</createCoordinatesReturn>',\r\n    maxZoom: 18,\r\n    id: 'mapbox.streets-basic',\r\n    accessToken: 'pk.eyJ1IjoiY2hpcHNhbiIsImEiOiJqa0JwV1pnIn0.mvduWzyRdcHxK_QIOpetFg'\r\n}).addTo(map);\r\n// var markers = L.markerClusterGroup();\r\nvar markers = new L.FeatureGroup();\r\nmap.addLayer(markers);\r\n// the collapsible sidebar with redraw/download etc. custom buttons\r\n// where we draw rectangles\r\nlayerForUserCircles = new L.FeatureGroup();\r\nmap.addLayer(layerForUserCircles);\r\n// enable the plugin for drawing on the map\r\nvar drawControl = new L.Control.Draw({\r\n    edit: {\r\n        featureGroup: layerForUserCircles\r\n    },\r\n    draw: {\r\n        circle: true,\r\n        circlemarker: false,\r\n        marker: false,\r\n        polygon: false,\r\n        polyline: false,\r\n        rectangle: false\r\n    }\r\n});\r\nmap.addControl(drawControl);\r\n/**\r\n * A function which collects what the user has drawn and pass it to a callback\r\n * @param {(rectangle: Rectangle) => any} callbackOnRectDrawn\r\n * @param {() => void} callbackOnDelete\r\n */\r\nfunction enableDrawing(callbackOnCircleDrawn) {\r\n    map.on('draw:created', function (e) {\r\n        var type = e.layerType, layer = e.layer;\r\n        if (type !== \"circle\") {\r\n            return true;\r\n        }\r\n        var radius = layer.getRadius();\r\n        var center = layer.getLatLng();\r\n        console.log(\"radius=\" + radius + \" center=\" + center);\r\n        layerForUserCircles.clearLayers();\r\n        layerForUserCircles.addLayer(layer);\r\n        callbackOnCircleDrawn(L.circle(layer.getLatLng(), { radius: layer.getRadius() }));\r\n    });\r\n    map.on(\"draw:deleted\", function () {\r\n    });\r\n}\r\nvar myRenderer = L.canvas({ padding: 0.5 });\r\nfunction drawMarkers(coords, circleOptions) {\r\n    if (circleOptions === void 0) { circleOptions = {}; }\r\n    markers.clearLayers();\r\n    console.info(\"adding \" + coords.length + \" markers\");\r\n    var layers = coords.map(function (place) { return L.marker(place.coordinates, {\r\n        title: place.name,\r\n        place: place\r\n    })\r\n        .on('click', onclick)\r\n        .bindTooltip(place.name + \" [\" + place.types + \"]\", { permanent: true }); });\r\n    layers.forEach(function (layer) {\r\n        markers.addLayer(layer);\r\n    });\r\n    map.fitBounds(markers.getBounds());\r\n    // markers.addLayers(layers);\r\n    layerForUserCircles.clearLayers();\r\n    console.info('done');\r\n}\r\nfunction onclick(ev) {\r\n    console.log(\"clicked on \" + this.options.title + \" \" + ev.latlng);\r\n    console.log(this.options.place);\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWFwLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL21hcC50cz8yOGE0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7UGxhY2UsIFBsYWNlc30gZnJvbSBcIi4vY3VzdG9tX3R5cGVzXCI7XHJcbmltcG9ydCB7RG9tRXZlbnR9IGZyb20gXCJsZWFmbGV0XCI7XHJcbmltcG9ydCBvbiA9IERvbUV2ZW50Lm9uO1xyXG5cclxuZXhwb3J0IGxldCBtYXA7XHJcbmV4cG9ydCBsZXQgbGF5ZXJGb3JVc2VyQ2lyY2xlcztcclxuZGVjbGFyZSBsZXQgTDtcclxuLy8gYWRkIHRoZSBtYXAgdG8gdGhlIHBhZ2VcclxubWFwID0gTC5tYXAoJ21hcCcpLnNldFZpZXcoWzQyLjY5NzkzMCwgMjMuMzIxNjI4XSwgMTMpO1xyXG5MLnRpbGVMYXllcignaHR0cHM6Ly9hcGkudGlsZXMubWFwYm94LmNvbS92NC97aWR9L3t6fS97eH0ve3l9LnBuZz9hY2Nlc3NfdG9rZW49e2FjY2Vzc1Rva2VufScsIHtcclxuICAgIGF0dHJpYnV0aW9uOiAnTWFwIGRhdGEgJmNvcHk7IDxjcmVhdGVDb29yZGluYXRlc1JldHVybiBocmVmPVwiaHR0cDovL29wZW5zdHJlZXRtYXAub3JnXCI+T3BlblN0cmVldE1hcDwvY3JlYXRlQ29vcmRpbmF0ZXNSZXR1cm4+IGNvbnRyaWJ1dG9ycywgPGNyZWF0ZUNvb3JkaW5hdGVzUmV0dXJuIGhyZWY9XCJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9saWNlbnNlcy9ieS1zYS8yLjAvXCI+Q0MtQlktU0E8L2NyZWF0ZUNvb3JkaW5hdGVzUmV0dXJuPiwgSW1hZ2VyeSDCqSA8Y3JlYXRlQ29vcmRpbmF0ZXNSZXR1cm4gaHJlZj1cImh0dHA6Ly9tYXBib3guY29tXCI+TWFwYm94PC9jcmVhdGVDb29yZGluYXRlc1JldHVybj4nLFxyXG4gICAgbWF4Wm9vbTogMTgsXHJcbiAgICBpZDogJ21hcGJveC5zdHJlZXRzLWJhc2ljJyxcclxuICAgIGFjY2Vzc1Rva2VuOiAncGsuZXlKMUlqb2lZMmhwY0hOaGJpSXNJbUVpT2lKcWEwSndWMXBuSW4wLm12ZHVXenlSZGNIeEtfUUlPcGV0RmcnXHJcbn0pLmFkZFRvKG1hcCk7XHJcblxyXG4vLyB2YXIgbWFya2VycyA9IEwubWFya2VyQ2x1c3Rlckdyb3VwKCk7XHJcbnZhciBtYXJrZXJzID0gbmV3IEwuRmVhdHVyZUdyb3VwKCk7XHJcbm1hcC5hZGRMYXllcihtYXJrZXJzKTtcclxuXHJcbi8vIHRoZSBjb2xsYXBzaWJsZSBzaWRlYmFyIHdpdGggcmVkcmF3L2Rvd25sb2FkIGV0Yy4gY3VzdG9tIGJ1dHRvbnNcclxuXHJcbi8vIHdoZXJlIHdlIGRyYXcgcmVjdGFuZ2xlc1xyXG5sYXllckZvclVzZXJDaXJjbGVzID0gbmV3IEwuRmVhdHVyZUdyb3VwKCk7XHJcbm1hcC5hZGRMYXllcihsYXllckZvclVzZXJDaXJjbGVzKTtcclxuXHJcbi8vIGVuYWJsZSB0aGUgcGx1Z2luIGZvciBkcmF3aW5nIG9uIHRoZSBtYXBcclxubGV0IGRyYXdDb250cm9sID0gbmV3IEwuQ29udHJvbC5EcmF3KHtcclxuICAgIGVkaXQ6IHtcclxuICAgICAgICBmZWF0dXJlR3JvdXA6IGxheWVyRm9yVXNlckNpcmNsZXNcclxuICAgIH0sXHJcbiAgICBkcmF3OiB7XHJcbiAgICAgICAgY2lyY2xlOiB0cnVlLFxyXG4gICAgICAgIGNpcmNsZW1hcmtlcjogZmFsc2UsXHJcbiAgICAgICAgbWFya2VyOiBmYWxzZSxcclxuICAgICAgICBwb2x5Z29uOiBmYWxzZSxcclxuICAgICAgICBwb2x5bGluZTogZmFsc2UsXHJcbiAgICAgICAgcmVjdGFuZ2xlOiBmYWxzZVxyXG4gICAgfVxyXG59KTtcclxubWFwLmFkZENvbnRyb2woZHJhd0NvbnRyb2wpO1xyXG5cclxuLyoqXHJcbiAqIEEgZnVuY3Rpb24gd2hpY2ggY29sbGVjdHMgd2hhdCB0aGUgdXNlciBoYXMgZHJhd24gYW5kIHBhc3MgaXQgdG8gYSBjYWxsYmFja1xyXG4gKiBAcGFyYW0geyhyZWN0YW5nbGU6IFJlY3RhbmdsZSkgPT4gYW55fSBjYWxsYmFja09uUmVjdERyYXduXHJcbiAqIEBwYXJhbSB7KCkgPT4gdm9pZH0gY2FsbGJhY2tPbkRlbGV0ZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGVuYWJsZURyYXdpbmcoY2FsbGJhY2tPbkNpcmNsZURyYXduOiAoY2lyY2xlOiBMLkNpcmNsZSkgPT4gYW55KSB7XHJcbiAgICBtYXAub24oJ2RyYXc6Y3JlYXRlZCcsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgbGV0IHR5cGUgPSBlLmxheWVyVHlwZSxcclxuICAgICAgICAgICAgbGF5ZXIgPSBlLmxheWVyO1xyXG4gICAgICAgIGlmICh0eXBlICE9PSBcImNpcmNsZVwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCByYWRpdXMgPSBsYXllci5nZXRSYWRpdXMoKTtcclxuICAgICAgICBsZXQgY2VudGVyID0gbGF5ZXIuZ2V0TGF0TG5nKCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coYHJhZGl1cz0ke3JhZGl1c30gY2VudGVyPSR7Y2VudGVyfWApO1xyXG4gICAgICAgIGxheWVyRm9yVXNlckNpcmNsZXMuY2xlYXJMYXllcnMoKTtcclxuICAgICAgICBsYXllckZvclVzZXJDaXJjbGVzLmFkZExheWVyKGxheWVyKVxyXG5cclxuICAgICAgICBjYWxsYmFja09uQ2lyY2xlRHJhd24oTC5jaXJjbGUobGF5ZXIuZ2V0TGF0TG5nKCksIHtyYWRpdXM6IGxheWVyLmdldFJhZGl1cygpfSkpXHJcbiAgICB9KTtcclxuICAgIG1hcC5vbihcImRyYXc6ZGVsZXRlZFwiLCAoKSA9PiB7XHJcbiAgICB9KVxyXG5cclxufVxyXG5cclxudmFyIG15UmVuZGVyZXIgPSBMLmNhbnZhcyh7cGFkZGluZzogMC41fSk7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZHJhd01hcmtlcnMoY29vcmRzOiBQbGFjZXMsIGNpcmNsZU9wdGlvbnMgPSB7fSkge1xyXG4gICAgbWFya2Vycy5jbGVhckxheWVycygpO1xyXG5cclxuICAgIGNvbnNvbGUuaW5mbyhgYWRkaW5nICR7Y29vcmRzLmxlbmd0aH0gbWFya2Vyc2ApO1xyXG4gICAgY29uc3QgbGF5ZXJzID0gY29vcmRzLm1hcChwbGFjZSA9PiBMLm1hcmtlcihwbGFjZS5jb29yZGluYXRlcywge1xyXG4gICAgICAgICAgICB0aXRsZTogcGxhY2UubmFtZSxcclxuICAgICAgICAgICAgcGxhY2U6IHBsYWNlXHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKCdjbGljaycsIG9uY2xpY2spXHJcbiAgICAgICAgICAgIC5iaW5kVG9vbHRpcChgJHtwbGFjZS5uYW1lfSBbJHtwbGFjZS50eXBlc31dYCwge3Blcm1hbmVudDogdHJ1ZX0pXHJcbiAgICApXHJcbiAgICBsYXllcnMuZm9yRWFjaChsYXllciA9PiB7XHJcbiAgICAgICAgbWFya2Vycy5hZGRMYXllcihsYXllcilcclxuICAgIH0pXHJcbiAgICBtYXAuZml0Qm91bmRzKG1hcmtlcnMuZ2V0Qm91bmRzKCkpXHJcbiAgICAvLyBtYXJrZXJzLmFkZExheWVycyhsYXllcnMpO1xyXG4gICAgbGF5ZXJGb3JVc2VyQ2lyY2xlcy5jbGVhckxheWVycygpXHJcbiAgICBjb25zb2xlLmluZm8oJ2RvbmUnKVxyXG59XHJcblxyXG5mdW5jdGlvbiBvbmNsaWNrKGV2KSB7XHJcbiAgICBjb25zb2xlLmxvZyhgY2xpY2tlZCBvbiAke3RoaXMub3B0aW9ucy50aXRsZX0gJHtldi5sYXRsbmd9YClcclxuICAgIGNvbnNvbGUubG9nKHRoaXMub3B0aW9ucy5wbGFjZSlcclxufVxyXG5cclxuIl0sIm1hcHBpbmdzIjoiQUFJQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/map.ts\n");

/***/ })

/******/ });